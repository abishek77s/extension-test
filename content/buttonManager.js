// Manages button creation and organization
const buttonManager = {
  createGenerateButton(text, contentType) {
    const button = domUtils.createElement('a', 'gen-button');
    button.innerHTML = `
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 54 60">
  <path fill="#fff" d="m51.8 15.176-3.176-3.974c-2.268-2.839-5.96-2.839-8.227 0L8.135 42.955a1.859 1.859 0 0 0-.376.936L6.171 57.806c-.057.516.082 1.039.375 1.409.248.314.586.485.937.485.062 0 .126-.006.188-.016l10.91-1.952c.012 0 .022 0 .034-.004.005 0 .01-.006.015-.006l.157-.028c.283-.05.547-.214.748-.47L51.799 25.47c2.268-2.839 2.268-7.457 0-10.296v.003ZM11.946 42.868l24.88-22.511 7.655 9.58-25.265 22.994c-1.166-4.469-3.826-8.163-7.27-10.063Zm-1.709 2.74c3.252 1.483 5.747 4.903 6.624 9.082l-7.82 1.4 1.196-10.48v-.003Zm39.688-22.48-3.568 4.465-7.655-9.58 3.568-4.466c1.235-1.546 3.245-1.546 4.48 0l3.175 3.974c1.235 1.545 1.234 4.06 0 5.606ZM.971 27.303c3.966 1.371 4.607 2.17 5.702 7.133.16.718.681 1.216 1.277 1.216.597 0 1.118-.498 1.277-1.216 1.096-4.963 1.737-5.765 5.702-7.133.574-.2.972-.852.972-1.599 0-.746-.398-1.399-.972-1.598-3.965-1.371-4.606-2.17-5.702-7.133-.159-.719-.68-1.216-1.277-1.216-.596 0-1.118.497-1.277 1.216-1.095 4.963-1.736 5.765-5.702 7.133-.574.199-.971.852-.971 1.598 0 .747.398 1.4.971 1.599Zm6.98-5.103c.678 1.589 1.528 2.655 2.797 3.504-1.27.85-2.122 1.913-2.797 3.505-.679-1.59-1.528-2.656-2.798-3.505 1.27-.849 2.122-1.912 2.798-3.504ZM20.23 9.058c.574-.199.972-.852.972-1.598 0-.747-.398-1.4-.972-1.599-2.638-.91-2.986-1.346-3.714-4.645C16.357.498 15.836 0 15.24 0s-1.118.498-1.277 1.216c-.728 3.299-1.076 3.734-3.714 4.645-.574.2-.972.853-.972 1.599s.398 1.4.972 1.598c2.638.911 2.986 1.347 3.714 4.646.16.718.68 1.216 1.277 1.216.596 0 1.118-.498 1.277-1.216.728-3.3 1.076-3.735 3.714-4.646Zm-4.991-.103a5.374 5.374 0 0 0-1.195-1.495 5.375 5.375 0 0 0 1.195-1.496c.33.597.718 1.082 1.195 1.496a5.373 5.373 0 0 0-1.195 1.495Z"/>
</svg>

    `;
    button.addEventListener('click', (e) => {
      e.preventDefault();
      messageHandler.handleGeneration(button, contentType);
    });
    return button;
  },

  createEnhanceButton(text, contentType) {
    const button = domUtils.createElement('a', 'prompt-button');
    button.innerHTML = `
     <svg xmlns="http://www.w3.org/2000/svg" width="20" height="22" fill="none" viewBox="0 0 77 66">
  <path fill="#ED2163" d="M7.699 55.82h13.293l8.4 9.012c.364.39.873.614 1.407.614s1.043-.22 1.408-.614l8.399-9.012H53.9c4.248 0 7.698-3.455 7.698-7.7V34.26a1.923 1.923 0 1 0-3.847 0v13.86a3.855 3.855 0 0 1-3.851 3.852H39.769c-.535 0-1.044.22-1.408.614L30.799 60.7l-7.562-8.114a1.928 1.928 0 0 0-1.407-.614H7.699a3.855 3.855 0 0 1-3.851-3.851v-30.8a3.855 3.855 0 0 1 3.85-3.85H44.66a1.923 1.923 0 1 0 0-3.848L7.7 9.619C3.45 9.62 0 13.073 0 17.318v30.8c0 4.247 3.454 7.698 7.699 7.698v.004Z"/>
  <path fill="#ED2163" d="M12.112 37.932c.375.376.87.563 1.36.563.495 0 .986-.187 1.361-.563l3.851-3.851a1.92 1.92 0 0 0 0-2.722l-3.85-3.85a1.92 1.92 0 0 0-2.722 0 1.92 1.92 0 0 0 0 2.72l2.49 2.491-2.49 2.49a1.92 1.92 0 0 0 0 2.722Zm1.362 8.265h25.024a1.923 1.923 0 1 0 0-3.847H13.474a1.923 1.923 0 1 0 0 3.847Zm62.114-33.618c-7.691-2.126-9.048-3.48-11.171-11.168A1.921 1.921 0 0 0 62.562 0c-.866 0-1.628.578-1.855 1.411-2.123 7.688-3.48 9.046-11.172 11.168a1.924 1.924 0 0 0 0 3.71c7.692 2.126 9.05 3.48 11.172 11.168a1.921 1.921 0 0 0 1.855 1.411 1.92 1.92 0 0 0 1.855-1.411c2.122-7.688 3.48-9.045 11.171-11.168a1.924 1.924 0 0 0 0-3.71ZM62.562 21.01c-1.466-3.244-3.332-5.107-6.577-6.576 3.245-1.465 5.111-3.331 6.577-6.576 1.465 3.245 3.331 5.107 6.576 6.576-3.245 1.466-5.11 3.332-6.576 6.577Z"/>
</svg>

    `;
    button.addEventListener('click', (e) => {
      e.preventDefault();
      messageHandler.handleEnhancement(button, contentType);
    });
    return button;
  },

  createRegenerateButton(text, contentType) {
    const button = domUtils.createElement('a', 'regen-button');
    button.innerHTML = `
          
    <svg class="icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 54 60">
      <path fill="#fff" d="m27.267 19.334 1 2.777a11.004 11.004 0 0 0 6.621 6.62l2.777 1.001a.284.284 0 0 1 0 .535l-2.777 1a11.004 11.004 0 0 0-6.62 6.621l-1 2.777a.284.284 0 0 1-.536 0l-1-2.777a11.004 11.004 0 0 0-6.621-6.62l-2.777-1a.284.284 0 0 1 0-.536l2.777-1a11.004 11.004 0 0 0 6.62-6.621l1.001-2.777a.284.284 0 0 1 .535 0Z"/>
      <path class='circle ' fill="#fff" d="M49.694 16.328a1.997 1.997 0 0 0-2.735-.671 1.993 1.993 0 0 0-.672 2.734 22.379 22.379 0 0 1 3.23 11.61c0 12.415-10.102 22.518-22.518 22.518a22.44 22.44 0 0 1-6.205-.886l1.975-.95a1.99 1.99 0 1 0-1.726-3.589l-6.22 2.991a1.999 1.999 0 0 0-1.038 1.204c-.162.53-.097 1.1.176 1.58l3.439 5.987a1.988 1.988 0 0 0 2.72.736 1.989 1.989 0 0 0 .733-2.717l-.756-1.319c2.234.605 4.543.941 6.905.941 14.612 0 26.498-11.888 26.498-26.499a26.39 26.39 0 0 0-3.806-13.67ZM26.996 7.48c2.128 0 4.205.311 6.206.886l-1.976.95a1.99 1.99 0 1 0 1.727 3.588l6.22-2.99a2 2 0 0 0 1.038-1.205c.164-.527.102-1.1-.175-1.58l-3.438-5.986A1.989 1.989 0 0 0 33.88.409a1.989 1.989 0 0 0-.734 2.717l.756 1.319A26.382 26.382 0 0 0 27 3.504C12.386 3.504.5 15.392.5 30.003c0 4.834 1.316 9.564 3.807 13.672a1.99 1.99 0 0 0 2.734.67c.94-.57 1.24-1.795.672-2.735A22.38 22.38 0 0 1 4.483 30c-.002-12.418 10.1-22.52 22.513-22.52Z"/>
    </svg>
    
    `;
    button.addEventListener('click', (e) => {
      e.preventDefault();
      messageHandler.handleRegeneration(button, contentType);
    });
    return button;
  },

  createButtonGroup(...buttons) {
    const container = domUtils.createElement('div', 'button-container');
    const toolbar = domUtils.createElement('div', 'toolbar');
    buttons.forEach(button => toolbar.appendChild(button));
    container.appendChild(toolbar);
    return container;
  },

  injectButtons(container, buttonGroup) {
    container.appendChild(buttonGroup);
  },

  replaceWithRegenerateButton(originalButton, text, contentType) {
    const regenerateButton = this.createRegenerateButton(text, contentType);
    originalButton.parentNode.replaceChild(regenerateButton, originalButton);
    return regenerateButton;
  }
};

window.buttonManager = buttonManager;